<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time-based Redirect</title>
</head>
<body>
    <h1>Welcome!</h1>
    <p>This page will check the time in Ghana and redirect accordingly.</p>

    <script>
        function checkTimeAndRedirect() {
            const now = new Date();
            
            // Get the time in the Ghana time zone (Africa/Accra)
            const options = { timeZone: 'Africa/Accra', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
            const formatter = new Intl.DateTimeFormat([], options);
            const timeString = formatter.format(now);
            
            const [hours, minutes, seconds] = timeString.split(':').map(Number);

            // Echo the current time in Ghana time zone
            console.log(`Current time in Ghana (Africa/Accra): ${timeString}`);
            
            // Array of random URLs to redirect to between 12:00 AM and 5:00 AM
            const randomUrls = [
                "https://example.com/midnight1",
                "https://example.com/midnight2",
                "https://example.com/midnight3"
            ];

            // Check if the time in Ghana is between 12:00 AM and 5:00 AM
            if (hours === 0 || (hours >= 1 && hours < 5)) {
                // Select a random URL from the array
                const randomUrl = randomUrls[Math.floor(Math.random() * randomUrls.length)];
                // Redirect to the selected random URL
                window.location.href = randomUrl;
            } else {
                // Redirect to another URL if it is not between 12 AM and 5 AM
                window.location.href = "https://example.com/not-midnight";
            }
        }

        // Check the time every second
        setInterval(checkTimeAndRedirect, 1000);
    </script>
</body>
</html>
