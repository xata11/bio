<!DOCTYPE html>
<html>
<head>
  <title>Visitor Info</title>
</head>
<body>
  <h2>Visitor Information</h2>
  <p><strong>IP Address:</strong> <span id="ip"></span></p>
  <p><strong>ISP (Org):</strong> <span id="isp"></span></p>
  <p><strong>Country:</strong> <span id="country"></span></p>
  <p><strong>City:</strong> <span id="city"></span></p>
  <p><strong>User Agent:</strong> <span id="ua"></span></p>
  <p><strong>Browser:</strong> <span id="browser"></span></p>
  <p><strong>Device Type:</strong> <span id="device-type"></span></p>
  <p><strong>Platform:</strong> <span id="platform"></span></p>

  <script>
    const ua = navigator.userAgent;
    document.getElementById('ua').textContent = ua;

    // Detect browser name
    function getBrowserName(ua) {
      if (ua.includes("Chrome") && !ua.includes("Edg")) return "Chrome";
      if (ua.includes("Edg")) return "Microsoft Edge";
      if (ua.includes("Firefox")) return "Firefox";
      if (ua.includes("Safari") && !ua.includes("Chrome")) return "Safari";
      if (ua.includes("Opera") || ua.includes("OPR")) return "Opera";
      return "Unknown";
    }

    // Detect device type
    function getDeviceType(ua) {
      if (/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|Mobile/i.test(ua)) {
        return "Mobile";
      } else {
        return "Desktop";
      }
    }

    // Detect platform
    function getPlatform(ua) {
      if (/Android/i.test(ua)) return "Android";
      if (/iPhone|iPad|iPod/i.test(ua)) return "iOS";
      if (/Series40|Nokia|Symbian|J2ME|MIDP|UCWEB/i.test(ua)) return "Java Phone";
      if (/Windows/i.test(ua)) return "Windows";
      if (/Macintosh|Mac OS/i.test(ua)) return "Mac";
      return "Unknown";
    }

    // Apply user agent data
    document.getElementById('browser').textContent = getBrowserName(ua);
    document.getElementById('device-type').textContent = getDeviceType(ua);
    document.getElementById('platform').textContent = getPlatform(ua);

    // Fetch IP, ISP, Country, City, ASN name
    fetch('https://ipinfo.io/json?token=45f3bc53bb6966') // Replace with your token
      .then(response => response.json())
      .then(data => {
        document.getElementById('ip').textContent = data.ip;
        document.getElementById('isp').textContent = data.org;
        document.getElementById('country').textContent = data.country;
        document.getElementById('city').textContent = data.city;

        // Get ASN name if available
        if (data.asn && data.asn.name) {
          document.getElementById('asn-name').textContent = data.asn.name;
        } else {
          document.getElementById('asn-name').textContent = "N/A";
        }
      })
      .catch(error => {
        console.error('Error fetching IP info:', error);
      });
  </script>
</body>
</html>
